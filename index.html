<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>투자 신청 | ENTERTAINMENT 2025</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@700;900&display=swap" rel="stylesheet">
  <style>
    body { font-family: 'Inter', 'Noto Sans KR', sans-serif;}
    .brand-gradient {
      background: linear-gradient(90deg,#0ea5e9 5%,#6366f1 60%,#f43f5e 100%);
      -webkit-background-clip: text; -webkit-text-fill-color: transparent;
    }
    .floating-label input:focus + label,
    .floating-label input:not(:placeholder-shown) + label {
      transform: translateY(-28px) scale(0.87);
      color: #6366f1;
    }
    .floating-label {
      position: relative;
    }
    .floating-label input {
      padding-top: 1.75rem;
    }
    .floating-label label {
      position: absolute;
      left: 1rem; top: 1.1rem;
      color: #8b96a9;
      font-size: 1rem;
      pointer-events: none;
      transition: all 0.2s;
    }
    .shake { animation: shake 0.45s cubic-bezier(.36,.07,.19,.97) both;}
    @keyframes shake {
      10%, 90% { transform: translateX(-2px);}
      20%, 80% { transform: translateX(4px);}
      30%, 50%, 70% { transform: translateX(-8px);}
      40%, 60% { transform: translateX(8px);}
    }
    .success-anim {
      animation: pop 0.7s cubic-bezier(.8,2,.6,.97) both;
    }
    @keyframes pop {
      0% { transform: scale(0.8); opacity:0;}
      60% { transform: scale(1.05); opacity:1;}
      100% { transform: scale(1); }
    }
  </style>
</head>
<body class="bg-gradient-to-br from-[#f0f9ff] via-[#e0e7ff] to-white min-h-screen flex flex-col justify-center py-16">
  <header class="text-center mb-10">
    <div class="inline-flex items-center gap-3 mb-3">
      <svg width="36" height="36" viewBox="0 0 40 40" fill="none">
        <circle cx="20" cy="20" r="20" fill="url(#paint0_linear)"/>
        <text x="10" y="28" font-family="Inter, Noto Sans KR" font-weight="900" font-size="17" fill="#fff">INV</text>
        <defs>
          <linearGradient id="paint0_linear" x1="0" y1="0" x2="40" y2="40">
            <stop stop-color="#0ea5e9"/>
            <stop offset="1" stop-color="#6366f1"/>
          </linearGradient>
        </defs>
      </svg>
      <span class="brand-gradient text-3xl font-black tracking-tighter">ENT INVEST 2025</span>
    </div>
    <h1 class="text-4xl sm:text-5xl font-extrabold mb-2 brand-gradient">투자 신청서</h1>
    <p class="text-gray-600 font-medium text-lg">강렬한 컬러, 넓은 여백, 직관적 인터랙션!<br class="hidden sm:inline"/>  
      데이터를 남기면 팀에서 신속하게 연락 드립니다.</p>
  </header>

  <form action="https://formspree.io/f/xblynogp" method="POST" enctype="multipart/form-data"
        id="investment-form"
        class="max-w-xl mx-auto bg-white/90 rounded-3xl shadow-2xl px-8 py-10 sm:px-12 sm:py-14 animate-fade-in space-y-8 relative"
        autocomplete="off" novalidate>
    <!-- 성공/실패 메시지 -->
    <div id="result" class="text-center mb-3 min-h-[38px]"></div>

    <!-- 입력필드 -->
    <div class="floating-label">
      <input type="text" name="performance_name" id="performance_name"
             class="input w-full px-4 py-4 rounded-xl border-2 border-gray-200 focus:border-indigo-500 font-bold bg-white text-lg transition"
             placeholder=" " required maxlength="50"/>
      <label for="performance_name">공연명 *</label>
    </div>
    <div class="floating-label">
      <input type="text" name="artist_name" id="artist_name"
             class="input w-full px-4 py-4 rounded-xl border-2 border-gray-200 focus:border-sky-500 font-bold bg-white text-lg transition"
             placeholder=" " required maxlength="30"/>
      <label for="artist_name">아티스트명 *</label>
    </div>
    <div class="floating-label">
      <input type="text" name="venue" id="venue"
             class="input w-full px-4 py-4 rounded-xl border-2 border-gray-200 focus:border-fuchsia-500 font-bold bg-white text-lg transition"
             placeholder=" " required maxlength="30"/>
      <label for="venue">공연 장소 *</label>
    </div>
    <div class="floating-label">
      <input type="date" name="start_date" id="start_date"
             class="input w-full px-4 py-4 rounded-xl border-2 border-gray-200 focus:border-emerald-500 font-bold bg-white text-lg transition"
             placeholder=" " required/>
      <label for="start_date">공연 시작일 *</label>
    </div>
    <div class="floating-label">
      <input type="number" name="investment_amount" id="investment_amount"
             class="input w-full px-4 py-4 rounded-xl border-2 border-gray-200 focus:border-pink-500 font-bold bg-white text-lg transition"
             placeholder=" " required min="0" max="999999999"/>
      <label for="investment_amount">투자 요청 금액 *</label>
    </div>
    <div>
      <input type="file" name="attachments"
             class="input w-full py-2 rounded-xl border-2 border-gray-200 focus:border-indigo-400 transition"/>
      <label class="block text-gray-500 text-sm mt-1">예산서/계약서 등 첨부 (최대 5MB)</label>
    </div>
    <div class="floating-label">
      <input type="text" name="contact_person" id="contact_person"
             class="input w-full px-4 py-4 rounded-xl border-2 border-gray-200 focus:border-green-500 font-bold bg-white text-lg transition"
             placeholder=" " required maxlength="40"/>
      <label for="contact_person">담당자 연락처 (전화/이메일) *</label>
    </div>

    <button type="submit"
            class="w-full py-4 rounded-xl font-extrabold text-lg bg-gradient-to-r from-sky-400 to-pink-500 text-white shadow-lg hover:scale-[1.03] active:scale-95 transition-all duration-200">
      <span id="btn-label">제출하기</span>
    </button>
  </form>

  <script>
    // 인터랙티브 입력 경고(즉시 피드백)
    function showError(input, msg) {
      input.classList.add('border-red-400','shake');
      input.focus();
      setTimeout(()=>input.classList.remove('shake','border-red-400'), 600);
      document.getElementById('result').innerHTML = `<span class="text-pink-600 font-bold">${msg}</span>`;
    }
    // 폼 submit 커스터마이즈
    document.getElementById('investment-form').onsubmit = function(e) {
      e.preventDefault();
      document.getElementById('result').innerHTML = '';
      // 실시간 기본 유효성 검사 (직접 JS 검증)
      const requiredFields = [
        ['performance_name', '공연명을 입력하세요'],
        ['artist_name', '아티스트명을 입력하세요'],
        ['venue', '공연 장소를 입력하세요'],
        ['start_date', '공연 시작일을 입력하세요'],
        ['investment_amount', '투자 금액을 입력하세요'],
        ['contact_person', '담당자 연락처를 입력하세요']
      ];
      for (const [id, msg] of requiredFields) {
        const input = document.getElementById(id);
        if (!input.value || (input.type==="number" && Number(input.value)<=0)) {
          showError(input, msg);
          return;
        }
      }
      // 첨부파일 크기 체크(5MB 제한)
      const file = document.querySelector('input[type="file"]').files[0];
      if (file && file.size > 5 * 1024 * 1024) {
        showError(document.querySelector('input[type="file"]'), "첨부파일은 5MB 이내여야 합니다.");
        return;
      }
      // 버튼 상태
      const btn = document.querySelector("button[type=submit]");
      btn.disabled = true; btn.classList.add("opacity-50"); document.getElementById("btn-label").textContent = "제출 중...";

      // Formspree AJAX 제출
      fetch(this.action, {
        method: "POST",
        body: new FormData(this),
        headers: { Accept: "application/json" }
      }).then(res => res.ok ? res.json() : Promise.reject(res))
        .then(() => {
          document.getElementById('result').innerHTML =
            `<div class="flex flex-col items-center gap-2 success-anim">
              <svg width="52" height="52" fill="none"><circle cx="26" cy="26" r="26" fill="#22c55e"/><path d="M16 29l8 7 13-13" stroke="#fff" stroke-width="4" stroke-linecap="round"/></svg>
              <span class="text-emerald-600 font-extrabold text-xl mt-2">접수가 완료되었습니다!</span>
              <span class="text-gray-500 text-sm">확인 후 개별 연락드립니다.</span>
            </div>`;
          btn.disabled = false; btn.classList.remove("opacity-50"); document.getElementById("btn-label").textContent = "제출하기";
          document.getElementById('investment-form').reset();
          window.scrollTo({top:0, behavior:'smooth'});
        }).catch(()=> {
          document.getElementById('result').innerHTML = `<span class="text-pink-600 font-bold">오류가 발생했습니다. 다시 시도해 주세요.</span>`;
          btn.disabled = false; btn.classList.remove("opacity-50"); document.getElementById("btn-label").textContent = "제출하기";
        });
    };
  </script>
</body>
</html>
